class AssitantPrompts:

    def build_generation_prompt(self, topic: str, context: str) -> str:
        return f"""
        ЗАДАНИЕ:
        Написать фрагмент диссертационного текста на тему:

        «{topic}»

        ТРЕБОВАНИЯ:
        - язык: русский
        - стиль: научный
        - 2–3 связных абзаца
        - без списков
        - без выводов
        - без вымышленных фактов

        ЗАПРЕЩЕНО:
        - маркированные списки
        - перечисления через двоеточие

        ТЕКСТ ДОЛЖЕН БЫТЬ:
        - только связные абзацы
        - каждый абзац — 3–5 предложений

        КОНТЕКСТ ИЗ ИСТОЧНИКОВ:
        {context}

        СГЕНЕРИРУЙ ТОЛЬКО ТЕКСТ РАЗДЕЛА.
        ЗАВЕРШИ ТЕКСТ ЛОГИЧЕСКИ.
        ПОСЛЕДНЕЕ ПРЕДЛОЖЕНИЕ ДОЛЖНО БЫТЬ ЗАКОНЧЕННЫМ.
        НЕ ПРОДОЛЖАЙ ПОСЛЕ ЭТОГО РАЗДЕЛА.
        В КОНЦЕ ТЕКСТА НАПИШИ: <END_OF_SECTION>
        """

    def build_review_prompt(self, text: str, context: str) -> str:
        return f"""
        Проанализируйте текст и укажите:

        1. Логические пробелы
        2. Неясные или общие формулировки
        3. Где требуются ссылки на источники
        4. Где можно усилить научную аргументацию
        5. Соответствие академическому стилю
        
        Стурктура ответа:
        - каждый пункт — 1–2 предложения
        - без вводных слов
        - без оценочных суждений
        НЕ ТРЕБУЙ информации, отсутствующей в контексте.

        ТЕКСТ:
        {text}

        ФОРМАТ:
        - нумерованный список
        - без переписывания текста

        КОНТЕКСТ ИЗ ИСТОЧНИКОВ:
        {context}
        """

    def build_checklist_prompt(self, text: str) -> str:
        return f"""
        На основе текста ниже сформируйте checklist для его доработки.

        ТЕКСТ:
        {text}

        ТРЕБОВАНИЯ:
        - формат markdown checklist
        - каждый пункт — конкретное действие

        ФОРМАТ:
        - [ ] ...

        """

    def build_revision_prompt(self, text: str, review: str, checklist: str, context: str) -> str:
        return f"""
        Улучшите текст с учётом замечаний научного руководителя.

        Требования:
        - академический стиль
        - усилить аргументацию
        - устранить замечания
        - увеличить глубину, но не воду
        - сохранить структуру

        ТЕКСТ:
        {text}

        ЗАМЕЧАНИЯ:
        {review}

        ЧЕК-ЛИСТ ПРОВЕРКИ:
        {checklist}

        КОНТЕКСТ ИЗ ИСТОЧНИКОВ:
        {context}
        """

    def build_quality_prompt(self, text: str) -> str:
        return f"""
        Оцените необходимость доработки текста.

        ТЕКСТ:
        {text}

        Если текст не завершен логически, то нужно писать - НЕТ
        """
